<!DOCTYPE html>
<html>
<head>
    <title>Debug Logs API</title>
</head>
<body>
    <h1>Debug do Sistema de Logs</h1>
    <div id="status"></div>
    <div id="result"></div>
    
    <script>
        async function debugLogs() {
            const statusDiv = document.getElementById('status');
            const resultDiv = document.getElementById('result');
            
            statusDiv.innerHTML = 'Testando...';
            
            try {
                // 1. Teste do servidor
                console.log('1. Testando servidor...');
                const healthResponse = await fetch('http://localhost:3000/health');
                const healthData = await healthResponse.json();
                console.log('‚úÖ Servidor OK:', healthData);
                
                // 2. Teste endpoint logs sem auth (deve falhar)
                console.log('2. Testando endpoint logs sem auth...');
                try {
                    const logsResponse = await fetch('http://localhost:3000/api/logs');
                    const logsText = await logsResponse.text();
                    console.log('üìã Logs endpoint status:', logsResponse.status);
                    console.log('üìã Logs response:', logsText);
                } catch (e) {
                    console.log('‚ùå Erro esperado (sem auth):', e.message);
                }
                
                // 3. Verificar estrutura da aplica√ß√£o React
                console.log('3. Verificando aplica√ß√£o React...');
                const reactResponse = await fetch('http://localhost:3001');
                if (reactResponse.ok) {
                    console.log('‚úÖ Frontend React acess√≠vel');
                } else {
                    console.log('‚ùå Frontend React n√£o acess√≠vel');
                }
                
                statusDiv.innerHTML = `
                    <h3>Resultado dos Testes:</h3>
                    <p>‚úÖ Servidor backend funcionando</p>
                    <p>‚úÖ Endpoint de logs existe (mas requer auth)</p>
                    <p>‚úÖ Frontend React acess√≠vel</p>
                    <h4>Pr√≥ximos passos:</h4>
                    <ol>
                        <li>Acesse <a href="http://localhost:3001" target="_blank">http://localhost:3001</a></li>
                        <li>Fa√ßa login na aplica√ß√£o</li>
                        <li>V√° para a se√ß√£o "Logs"</li>
                        <li>Abra o console do navegador (F12) para ver erros</li>
                        <li>Se ainda houver erro, copie e cole o erro aqui</li>
                    </ol>
                `;
                
            } catch (error) {
                console.error('‚ùå Erro no teste:', error);
                statusDiv.innerHTML = `<p style="color: red;">Erro: ${error.message}</p>`;
            }
        }
        
        // Executar automaticamente
        debugLogs();
    </script>
</body>
</html>